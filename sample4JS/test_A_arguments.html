<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>JS高级-arguments</title>
</head>
<body>
<script>
    // ==================================================
    //    1. arguments是什么？
    //        ===> 是一个对象[Object Arguments]，是一个长得很像数组的对象。
    //    2. arguments的内容是什么？
    //        ===> 是函数运行时的实参列表。
    //    3. arguments与实参和形参的关系？
    //        ===>arguments收集了所有的实参. arguments与形参是相互映射的，修改一方会影响另一方的值。
    //    4. callee
    //        ===>callee：代表当前运行的函数
    // ==================================================


    // ==================================================
    // 例1
    // arguments是一个长得很像数组的对象
    // ==================================================
    (function (d, e, f) {
        console.log("===========例1===========");
        console.log(arguments);
        console.log("typeof : " + typeof arguments);
        console.log(arguments[0]);
        console.log(arguments[1]);
        console.log(arguments[2]);
    })("hello", "world", "!");


    // ==================================================
    // 例2
    // 在函数内部没有办法取得haha,因为没有对应的形参。但是可以通过arguments取得。
    // ==================================================
    (function (d, e, f) {
        console.log("===========例2===========");
        console.log(d);
        console.log(arguments[3]);

        arguments[1] = "china";
        console.log("e :"+ e);
    })("hello", "world", "!", "haha");


    // ==================================================
    // 例3
    // 形参与arguments是相互映射的，修改一方会影响另一方的值。
    // ==================================================
    (function (p1) {
        console.log("===========例3===========");
        arguments[0] = "bbbb";
        console.log("p1 :"+ p1);
    })("aaa");


    // ==================================================
    // 例4
    // 如何取得真正收到的实参的个数。arguments.length属性
    // ==================================================
    (function (p1) {
        console.log("===========例4===========");
        console.log("收到的实参的个数 :"+ arguments.length);
    })("aaa", "bbb");


    // ==================================================
    // 例4
    // 如何取得真正收到的实参的个数。arguments.length属性
    // ==================================================
    (function (p1) {
        console.log("===========例4===========");
        console.log("收到的实参的个数 :"+ arguments.length);
    })("aaa", "bbb");


    // ==================================================
    // 例5
    // callee/caller
    // ==================================================
    (function func (p1) {
        console.log("===========例5===========");
        console.log("callee :"+ arguments.callee);
    })("aaa", "bbb");


    // ==================================================
    // 例6
    // 运行一个函数，递归计算1->N的和，用一遍就扔掉。
    // 用立即调用的匿名函数来实现递归。
    // ==================================================
    (function(){
        console.log("===========例6===========");
        var sum = (function(n){
            if (n === 1) {
                return 1;
            } else {
                return n + arguments.callee(n-1);
            }
        })(100);
        console.log("递归计算1->N的和："+sum);
    })();

</script>


</body>
</html>